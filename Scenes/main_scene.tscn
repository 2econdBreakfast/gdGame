[gd_scene load_steps=9 format=3 uid="uid://ct4y62u26mkhu"]

[ext_resource type="PackedScene" uid="uid://khlwhx7tr6b1" path="res://prefabs/bunny.tscn" id="1_0h13k"]
[ext_resource type="PackedScene" uid="uid://cvnnd7yosb00i" path="res://ui/inventory.tscn" id="1_nw8ng"]
[ext_resource type="PackedScene" uid="uid://d34a52kj5ljdd" path="res://prefabs/Player.tscn" id="2_52eap"]
[ext_resource type="PackedScene" uid="uid://dn8ptif88wr4i" path="res://prefabs/camera.tscn" id="3_6l6es"]
[ext_resource type="Script" path="res://src/items/ItemManager.gd" id="4_w6ky1"]
[ext_resource type="PackedScene" uid="uid://cb5i0x0mu2ped" path="res://prefabs/map.tscn" id="5_1a6y7"]
[ext_resource type="PackedScene" uid="uid://bnqrolr6i6i47" path="res://prefabs/cabin.tscn" id="6_1yj28"]
[ext_resource type="Script" path="res://Scenes/PlayerPlacementInitializer.gd" id="8_v58e0"]

[node name="World" type="Node2D"]
y_sort_enabled = true

[node name="Map" parent="." instance=ExtResource("5_1a6y7")]
y_sort_enabled = true

[node name="TerrainGenerator" parent="Map/GeneratorModules" index="4"]
enabled = null

[node name="BuildingPlacementGenerator" parent="Map/GeneratorModules" index="5"]
cabin_scene = ExtResource("6_1yj28")

[node name="TerrainTilemap" parent="Map/Tilemaps" index="0"]
layer_0/name = "Terrain"
layer_0/z_index = 0
layer_1/name = "Water"
layer_1/z_index = -1
layer_1/navigation_enabled = false

[node name="Actors" type="Node2D" parent="."]
y_sort_enabled = true

[node name="NPCs" type="Node2D" parent="Actors"]
y_sort_enabled = true

[node name="Bunny2" parent="Actors/NPCs" instance=ExtResource("1_0h13k")]

[node name="Bunny" parent="Actors/NPCs" instance=ExtResource("1_0h13k")]

[node name="Timer" parent="Actors/NPCs/Bunny/NPCNavigator" index="0"]
process_callback = 0
autostart = true

[node name="BehaviorTree" parent="Actors/NPCs/Bunny" index="6" node_paths=PackedStringArray("blackboard")]
blackboard = NodePath("@Node@140325")

[node name="Player" parent="Actors" node_paths=PackedStringArray("inventory") instance=ExtResource("2_52eap")]
position = Vector2(49, -18)
collision_layer = 1
collision_mask = 4103
inventory = NodePath("../../HUD/QuickBar")

[node name="Camera2D" parent="Actors/Player" instance=ExtResource("3_6l6es")]
y_sort_enabled = true
position = Vector2(0, -74)
position_smoothing_enabled = true

[node name="ItemManager" type="Node2D" parent="Actors"]
position = Vector2(362, 0)
script = ExtResource("4_w6ky1")

[node name="HUD" type="CanvasLayer" parent="."]

[node name="QuickBar" parent="HUD" instance=ExtResource("1_nw8ng")]
size_flags_horizontal = 0

[node name="PlayerPlacementInitializer" type="Node" parent="."]
script = ExtResource("8_v58e0")

[connection signal="instantiation_complete" from="Map" to="PlayerPlacementInitializer" method="_on_map_instantiation_complete"]

[editable path="Map"]
[editable path="Actors/NPCs/Bunny"]
[editable path="HUD/QuickBar"]
